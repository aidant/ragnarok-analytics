var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,a=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,o=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&a(e,r,t[r]);if(n)for(var r of n(t))s.call(t,r)&&a(e,r,t[r]);return e};"undefined"!=typeof require&&require;import{H as c,A as m,g as i,a as p,I as d,c as f,w as u,q as g,b as $,s as y,p as h,S as v,i as b,d as w,e as x,t as A,f as I,h as C,j as T,k as D,l as k,m as j,n as O,o as _,r as B,u as L,v as S,x as q,y as N,z as P,B as U,C as E,D as M,E as z,F as R,G,J as H,K,L as F,M as J,N as W}from"./vendor.1c8d27d6.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Q=new c({uri:"https://ragnarok-analytics.api.aidan.pro/"}),V=new m(((e,n)=>(e.setContext((({headers:e={}})=>{return{headers:(n=o({},e),l={Authorization:i(Y)},t(n,r(l)))};var n,l})),n(e)))),X=new p({cache:new d,link:f(V,Q)}),Y=u(""),Z=u(new Date);setInterval((()=>Z.set(new Date)),1e3);const ee=e=>e[0].toUpperCase()+e.substring(1);function te(e){let t,r;return{c(){t=x("span"),r=A(e[3]),I(t,"class","border rounded-lg px-2")},m(e,n){C(e,t,n),T(t,r)},p(e,t){8&t&&D(r,e[3])},d(e){e&&k(t)}}}function re(e){let t,r;return{c(){t=x("span"),r=A(e[2]),I(t,"class","border rounded-lg px-2")},m(e,n){C(e,t,n),T(t,r)},p(e,t){4&t&&D(r,e[2])},d(e){e&&k(t)}}}function ne(e){let t,r,n=e[0]&&te(e),l=e[1]&&re(e);return{c(){t=x("div"),n&&n.c(),r=j(),l&&l.c(),I(t,"class","flex flex-row gap-1")},m(e,s){C(e,t,s),n&&n.m(t,null),T(t,r),l&&l.m(t,null)},p(e,[s]){e[0]?n?n.p(e,s):(n=te(e),n.c(),n.m(t,r)):n&&(n.d(1),n=null),e[1]?l?l.p(e,s):(l=re(e),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},i:O,o:O,d(e){e&&k(t),n&&n.d(),l&&l.d()}}}function le(e,t,r){let n,l,s;_(e,Z,(e=>r(6,s=e)));let{created:a=!0}=t,{createdAt:o}=t,{duration:c=!0}=t,{completedAt:m}=t;return e.$$set=e=>{"created"in e&&r(0,a=e.created),"createdAt"in e&&r(4,o=e.createdAt),"duration"in e&&r(1,c=e.duration),"completedAt"in e&&r(5,m=e.completedAt)},e.$$.update=()=>{var t,a;16&e.$$.dirty&&r(3,n=ee(y(new Date(o)))),112&e.$$.dirty&&r(2,(t=o,a=null!=m?m:s.toString(),l=ee(h(new Date(a).getTime()-new Date(t).getTime(),{compact:!0}))))},[a,c,l,n,o,m,s]}class se extends v{constructor(e){super(),b(this,e,le,ne,w,{created:0,createdAt:4,duration:1,completedAt:5})}}function ae(e){let t,r,n,l,s,a,o,c=e[0].memberDiscordUsername+"";return{c(){t=x("div"),r=x("img"),s=j(),a=x("span"),o=A(c),I(r,"class","rounded-full w-10 h-10 bg-black dark:bg-white"),I(r,"alt",n=e[0].memberDiscordUsername),B(r.src,l=e[0].memberDiscordAvatar)||I(r,"src",l),I(a,"class","overflow-ellipsis"),I(t,"class","flex flex-row items-center gap-2")},m(e,n){C(e,t,n),T(t,r),T(t,s),T(t,a),T(a,o)},p(e,[t]){1&t&&n!==(n=e[0].memberDiscordUsername)&&I(r,"alt",n),1&t&&!B(r.src,l=e[0].memberDiscordAvatar)&&I(r,"src",l),1&t&&c!==(c=e[0].memberDiscordUsername+"")&&D(o,c)},i:O,o:O,d(e){e&&k(t)}}}function oe(e,t,r){let{member:n}=t;return e.$$set=e=>{"member"in e&&r(0,n=e.member)},[n]}class ce extends v{constructor(e){super(),b(this,e,oe,ae,w,{member:0})}}function me(e,t,r){const n=e.slice();return n[1]=t[r],n}function ie(e){let t,r,n,l;return r=new ce({props:{member:e[1].member}}),{c(){t=x("li"),L(r.$$.fragment),n=j(),I(t,"class","flex-none")},m(e,s){C(e,t,s),S(r,t,null),T(t,n),l=!0},p(e,t){const n={};1&t&&(n.member=e[1].member),r.$set(n)},i(e){l||(q(r.$$.fragment,e),l=!0)},o(e){N(r.$$.fragment,e),l=!1},d(e){e&&k(t),P(r)}}}function pe(e){let t,r,n=e[0],l=[];for(let a=0;a<n.length;a+=1)l[a]=ie(me(e,n,a));const s=e=>N(l[e],1,1,(()=>{l[e]=null}));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=U()},m(e,n){for(let t=0;t<l.length;t+=1)l[t].m(e,n);C(e,t,n),r=!0},p(e,[r]){if(1&r){let a;for(n=e[0],a=0;a<n.length;a+=1){const s=me(e,n,a);l[a]?(l[a].p(s,r),q(l[a],1)):(l[a]=ie(s),l[a].c(),q(l[a],1),l[a].m(t.parentNode,t))}for(E(),a=n.length;a<l.length;a+=1)s(a);M()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)q(l[e]);r=!0}},o(e){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)N(l[t]);r=!1},d(e){z(l,e),e&&k(t)}}}function de(e,t,r){let{players:n}=t;return e.$$set=e=>{"players"in e&&r(0,n=e.players)},[n]}class fe extends v{constructor(e){super(),b(this,e,de,pe,w,{players:0})}}function ue(e){let t,r,n,l,s,a,o,c,m,i,p,d,f,u,g,$,y,h,v,b,w,O,_=e[0].gameId+"";return a=new se({props:{createdAt:e[0].gameCreatedAt,completedAt:e[0].gameCompletedAt,created:!1}}),d=new fe({props:{players:e[1]}}),y=new fe({props:{players:e[2]}}),w=new fe({props:{players:e[3]}}),{c(){t=x("div"),r=x("span"),n=A("Game "),l=A(_),s=j(),L(a.$$.fragment),o=j(),c=x("div"),m=x("span"),m.textContent="Spectators",i=j(),p=x("ul"),L(d.$$.fragment),f=j(),u=x("div"),g=x("ul"),$=A("Team 1\n    "),L(y.$$.fragment),h=j(),v=x("ul"),b=A("Team 2\n    "),L(w.$$.fragment),I(t,"class","flex flex-row justify-between"),I(m,"class","block mb-4"),I(p,"class","flex flex-row flex-wrap gap-2"),I(c,"class","border rounded-lg p-2 my-2"),I(g,"class","flex flex-col gap-2 border rounded-lg p-2 my-2 w-1/2"),I(v,"class","flex flex-col gap-2 border rounded-lg p-2 my-2 w-1/2"),I(u,"class","flex flex-row gap-4")},m(e,x){C(e,t,x),T(t,r),T(r,n),T(r,l),T(t,s),S(a,t,null),C(e,o,x),C(e,c,x),T(c,m),T(c,i),T(c,p),S(d,p,null),C(e,f,x),C(e,u,x),T(u,g),T(g,$),S(y,g,null),T(u,h),T(u,v),T(v,b),S(w,v,null),O=!0},p(e,[t]){(!O||1&t)&&_!==(_=e[0].gameId+"")&&D(l,_);const r={};1&t&&(r.createdAt=e[0].gameCreatedAt),1&t&&(r.completedAt=e[0].gameCompletedAt),a.$set(r)},i(e){O||(q(a.$$.fragment,e),q(d.$$.fragment,e),q(y.$$.fragment,e),q(w.$$.fragment,e),O=!0)},o(e){N(a.$$.fragment,e),N(d.$$.fragment,e),N(y.$$.fragment,e),N(w.$$.fragment,e),O=!1},d(e){e&&k(t),P(a),e&&k(o),e&&k(c),P(d),e&&k(f),e&&k(u),P(y),P(w)}}}function ge(e,t,r){let{game:n}=t;const l=n.players.filter((e=>0===e.playerTeamId)),s=n.players.filter((e=>1===e.playerTeamId)),a=n.players.filter((e=>2===e.playerTeamId));return e.$$set=e=>{"game"in e&&r(0,n=e.game)},[n,l,s,a]}class $e extends v{constructor(e){super(),b(this,e,ge,ue,w,{game:0})}}function ye(e,t,r){const n=e.slice();return n[0]=t[r],n}function he(e,t,r){const n=e.slice();return n[4]=t[r],n}function ve(e){let t,r;return{c(){t=x("img"),B(t.src,r="./game-"+(0===e[4].playerTeamId?"spectated":"played")+".svg")||I(t,"src",r)},m(e,r){C(e,t,r)},p:O,d(e){e&&k(t)}}}function be(e){let t,r,n,l,s,a;r=new ce({props:{member:e[0].member}});let o=e[0].players,c=[];for(let m=0;m<o.length;m+=1)c[m]=ve(he(e,o,m));return{c(){t=x("div"),L(r.$$.fragment),n=j(),l=x("div");for(let e=0;e<c.length;e+=1)c[e].c();s=j(),I(l,"class","flex flex-row"),I(t,"class","flex flex-row gap-2 flex-1 min-w-max")},m(e,o){C(e,t,o),S(r,t,null),T(t,n),T(t,l);for(let t=0;t<c.length;t+=1)c[t].m(l,null);T(t,s),a=!0},p(e,t){if(1&t){let r;for(o=e[0].players,r=0;r<o.length;r+=1){const n=he(e,o,r);c[r]?c[r].p(n,t):(c[r]=ve(n),c[r].c(),c[r].m(l,null))}for(;r<c.length;r+=1)c[r].d(1);c.length=o.length}},i(e){a||(q(r.$$.fragment,e),a=!0)},o(e){N(r.$$.fragment,e),a=!1},d(e){e&&k(t),P(r),z(c,e)}}}function we(e){let t,r,n=e[0],l=[];for(let a=0;a<n.length;a+=1)l[a]=be(ye(e,n,a));const s=e=>N(l[e],1,1,(()=>{l[e]=null}));return{c(){t=x("div");for(let e=0;e<l.length;e+=1)l[e].c();I(t,"class","grid gap-2")},m(e,n){C(e,t,n);for(let r=0;r<l.length;r+=1)l[r].m(t,null);r=!0},p(e,[r]){if(1&r){let a;for(n=e[0],a=0;a<n.length;a+=1){const s=ye(e,n,a);l[a]?(l[a].p(s,r),q(l[a],1)):(l[a]=be(s),l[a].c(),q(l[a],1),l[a].m(t,null))}for(E(),a=n.length;a<l.length;a+=1)s(a);M()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)q(l[e]);r=!0}},o(e){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)N(l[t]);r=!1},d(e){e&&k(t),z(l,e)}}}function xe(e,t,r){let{players:n}=t;const l=Object.values(n.sort(((e,t)=>new Date(e.playerCreatedAt).getTime()-new Date(t.playerCreatedAt).getTime())).reduce(((e,t)=>{var r,n;return null!==(r=e[n=t.memberId])&&void 0!==r||(e[n]={member:t.member,players:[]}),e[t.memberId].players.push(t),e}),{})).sort(((e,t)=>{const r=e.players.filter((e=>0===e.playerTeamId)).length/e.players.length,n=t.players.filter((e=>0===e.playerTeamId)).length/t.players.length;return r===n?0:r>n?1:r<n?-1:void 0}));return e.$$set=e=>{"players"in e&&r(1,n=e.players)},[l,n]}class Ae extends v{constructor(e){super(),b(this,e,xe,we,w,{players:1})}}function Ie(e,t,r){const n=e.slice();return n[0]=t[r],n}function Ce(e,t,r){const n=e.slice();return n[4]=t[r],n}function Te(e){let t,r;return{c(){t=x("img"),B(t.src,r="./game-"+(0===e[4].playerTeamId?"spectated":"played")+".svg")||I(t,"src",r)},m(e,r){C(e,t,r)},p:O,d(e){e&&k(t)}}}function De(e){let t,r,n,l,s,a;r=new ce({props:{member:e[0].member}});let o=e[0].players,c=[];for(let m=0;m<o.length;m+=1)c[m]=Te(Ce(e,o,m));return{c(){t=x("div"),L(r.$$.fragment),n=j(),l=x("div");for(let e=0;e<c.length;e+=1)c[e].c();s=j(),I(l,"class","flex flex-row"),I(t,"class","flex flex-row gap-2 flex-1 min-w-max")},m(e,o){C(e,t,o),S(r,t,null),T(t,n),T(t,l);for(let t=0;t<c.length;t+=1)c[t].m(l,null);T(t,s),a=!0},p(e,t){if(1&t){let r;for(o=e[0].players,r=0;r<o.length;r+=1){const n=Ce(e,o,r);c[r]?c[r].p(n,t):(c[r]=Te(n),c[r].c(),c[r].m(l,null))}for(;r<c.length;r+=1)c[r].d(1);c.length=o.length}},i(e){a||(q(r.$$.fragment,e),a=!0)},o(e){N(r.$$.fragment,e),a=!1},d(e){e&&k(t),P(r),z(c,e)}}}function ke(e){let t,r,n=e[0],l=[];for(let a=0;a<n.length;a+=1)l[a]=De(Ie(e,n,a));const s=e=>N(l[e],1,1,(()=>{l[e]=null}));return{c(){t=x("div");for(let e=0;e<l.length;e+=1)l[e].c();I(t,"class","grid gap-2")},m(e,n){C(e,t,n);for(let r=0;r<l.length;r+=1)l[r].m(t,null);r=!0},p(e,[r]){if(1&r){let a;for(n=e[0],a=0;a<n.length;a+=1){const s=Ie(e,n,a);l[a]?(l[a].p(s,r),q(l[a],1)):(l[a]=De(s),l[a].c(),q(l[a],1),l[a].m(t,null))}for(E(),a=n.length;a<l.length;a+=1)s(a);M()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)q(l[e]);r=!0}},o(e){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)N(l[t]);r=!1},d(e){e&&k(t),z(l,e)}}}function je(e,t,r){let{players:n}=t;const l=Object.values(n.sort(((e,t)=>new Date(e.playerCreatedAt).getTime()-new Date(t.playerCreatedAt).getTime())).reduce(((e,t)=>{var r,n;return null!==(r=e[n=t.memberId])&&void 0!==r||(e[n]={member:t.member,players:[]}),e[t.memberId].players.push(t),e[t.memberId].players=e[t.memberId].players.slice(-3),e}),{})).filter((e=>!(e.players.filter((e=>0===e.playerTeamId)).length/e.players.length<.5))).sort(((e,t)=>{const r=e.players.filter((e=>0===e.playerTeamId)).length/e.players.length,n=t.players.filter((e=>0===e.playerTeamId)).length/t.players.length;return r===n?0:r>n?-1:r<n?1:void 0}));return e.$$set=e=>{"players"in e&&r(1,n=e.players)},[l,n]}class Oe extends v{constructor(e){super(),b(this,e,je,ke,w,{players:1})}}function _e(e,t,r){const n=e.slice();return n[0]=t[r],n}function Be(e,t,r){const n=e.slice();return n[4]=t[r],n}function Le(e){let t,r;return{c(){t=x("img"),B(t.src,r="./game-"+(0===e[4].playerTeamId?"spectated":"played")+".svg")||I(t,"src",r)},m(e,r){C(e,t,r)},p:O,d(e){e&&k(t)}}}function Se(e){let t,r,n,l,s,a;r=new ce({props:{member:e[0].member}});let o=e[0].players,c=[];for(let m=0;m<o.length;m+=1)c[m]=Le(Be(e,o,m));return{c(){t=x("div"),L(r.$$.fragment),n=j(),l=x("div");for(let e=0;e<c.length;e+=1)c[e].c();s=j(),I(l,"class","flex flex-row"),I(t,"class","flex flex-row gap-2 flex-1 min-w-max")},m(e,o){C(e,t,o),S(r,t,null),T(t,n),T(t,l);for(let t=0;t<c.length;t+=1)c[t].m(l,null);T(t,s),a=!0},p(e,t){if(1&t){let r;for(o=e[0].players,r=0;r<o.length;r+=1){const n=Be(e,o,r);c[r]?c[r].p(n,t):(c[r]=Le(n),c[r].c(),c[r].m(l,null))}for(;r<c.length;r+=1)c[r].d(1);c.length=o.length}},i(e){a||(q(r.$$.fragment,e),a=!0)},o(e){N(r.$$.fragment,e),a=!1},d(e){e&&k(t),P(r),z(c,e)}}}function qe(e){let t,r,n=e[0],l=[];for(let a=0;a<n.length;a+=1)l[a]=Se(_e(e,n,a));const s=e=>N(l[e],1,1,(()=>{l[e]=null}));return{c(){t=x("div");for(let e=0;e<l.length;e+=1)l[e].c();I(t,"class","grid gap-2")},m(e,n){C(e,t,n);for(let r=0;r<l.length;r+=1)l[r].m(t,null);r=!0},p(e,[r]){if(1&r){let a;for(n=e[0],a=0;a<n.length;a+=1){const s=_e(e,n,a);l[a]?(l[a].p(s,r),q(l[a],1)):(l[a]=Se(s),l[a].c(),q(l[a],1),l[a].m(t,null))}for(E(),a=n.length;a<l.length;a+=1)s(a);M()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)q(l[e]);r=!0}},o(e){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)N(l[t]);r=!1},d(e){e&&k(t),z(l,e)}}}function Ne(e,t,r){let{players:n}=t;const l=Object.values(n.filter((e=>0===e.playerTeamId)).sort(((e,t)=>new Date(e.playerCreatedAt).getTime()-new Date(t.playerCreatedAt).getTime())).reduce(((e,t)=>{var r,n;return null!==(r=e[n=t.memberId])&&void 0!==r||(e[n]={member:t.member,players:[]}),e[t.memberId].players.push(t),e}),{})).sort(((e,t)=>{const r=e.players.length,n=t.players.length;return r===n?0:r>n?-1:r<n?1:void 0}));return e.$$set=e=>{"players"in e&&r(1,n=e.players)},[l,n]}class Pe extends v{constructor(e){super(),b(this,e,Ne,qe,w,{players:1})}}function Ue(e){let t,r,n,l,s,a,o,c,m,i,p,d,f;var u=e[2];function g(e){return{props:{players:e[0]}}}return u&&(i=new u(g(e))),{c(){t=x("div"),r=x("div"),n=x("span"),n.textContent="Overview",l=j(),s=x("select"),a=x("option"),a.textContent="History",o=x("option"),o.textContent="Recently Spectated",c=x("option"),c.textContent="Most Spectated",m=j(),i&&L(i.$$.fragment),I(n,"class","text-lg mb-2 block"),a.__value="history",a.value=a.__value,o.__value="recently-spectated",o.value=o.__value,c.__value="most-spectated",c.value=c.__value,I(s,"class","border rounded-lg py-2"),void 0===e[1]&&R((()=>e[3].call(s))),I(r,"class","flex flex-row justify-between"),I(t,"class","border rounded-lg p-4 mt-2")},m(u,g){C(u,t,g),T(t,r),T(r,n),T(r,l),T(r,s),T(s,a),T(s,o),T(s,c),G(s,e[1]),T(t,m),i&&S(i,t,null),p=!0,d||(f=H(s,"change",e[3]),d=!0)},p(e,[r]){2&r&&G(s,e[1]);const n={};if(1&r&&(n.players=e[0]),u!==(u=e[2])){if(i){E();const e=i;N(e.$$.fragment,1,0,(()=>{P(e,1)})),M()}u?(i=new u(g(e)),L(i.$$.fragment),q(i.$$.fragment,1),S(i,t,null)):i=null}else u&&i.$set(n)},i(e){p||(i&&q(i.$$.fragment,e),p=!0)},o(e){i&&N(i.$$.fragment,e),p=!1},d(e){e&&k(t),i&&P(i),d=!1,f()}}}function Ee(e,t,r){let n,{players:l}=t,s="history";return e.$$set=e=>{"players"in e&&r(0,l=e.players)},e.$$.update=()=>{if(2&e.$$.dirty)switch(s){case"history":r(2,n=Ae);break;case"recently-spectated":r(2,n=Oe);break;case"most-spectated":r(2,n=Pe)}},[l,s,n,function(){s=K(this),r(1,s)}]}class Me extends v{constructor(e){super(),b(this,e,Ee,Ue,w,{players:0})}}function ze(e,t,r){const n=e.slice();return n[2]=t[r],n}function Re(e){let t,r,n,l;return r=new $e({props:{game:e[2]}}),{c(){t=x("li"),L(r.$$.fragment),n=j(),I(t,"class","border rounded-md p-2 my-2")},m(e,s){C(e,t,s),S(r,t,null),T(t,n),l=!0},p(e,t){const n={};1&t&&(n.game=e[2]),r.$set(n)},i(e){l||(q(r.$$.fragment,e),l=!0)},o(e){N(r.$$.fragment,e),l=!1},d(e){e&&k(t),P(r)}}}function Ge(e){let t,r,n,l;t=new Me({props:{players:e[1]}});let s=e[0],a=[];for(let c=0;c<s.length;c+=1)a[c]=Re(ze(e,s,c));const o=e=>N(a[e],1,1,(()=>{a[e]=null}));return{c(){L(t.$$.fragment),r=j(),n=x("ul");for(let e=0;e<a.length;e+=1)a[e].c()},m(e,s){S(t,e,s),C(e,r,s),C(e,n,s);for(let t=0;t<a.length;t+=1)a[t].m(n,null);l=!0},p(e,[t]){if(1&t){let r;for(s=e[0],r=0;r<s.length;r+=1){const l=ze(e,s,r);a[r]?(a[r].p(l,t),q(a[r],1)):(a[r]=Re(l),a[r].c(),q(a[r],1),a[r].m(n,null))}for(E(),r=s.length;r<a.length;r+=1)o(r);M()}},i(e){if(!l){q(t.$$.fragment,e);for(let e=0;e<s.length;e+=1)q(a[e]);l=!0}},o(e){N(t.$$.fragment,e),a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)N(a[t]);l=!1},d(e){P(t,e),e&&k(r),e&&k(n),z(a,e)}}}function He(e,t,r){let{games:n}=t;const l=n.flatMap((e=>e.players));return e.$$set=e=>{"games"in e&&r(0,n=e.games)},[n,l]}class Ke extends v{constructor(e){super(),b(this,e,He,Ge,w,{games:0})}}function Fe(e){let t,r,n,l,s,a,o,c,m,i=e[0].eventId+"";return a=new se({props:{createdAt:e[0].eventCreatedAt,completedAt:e[0].eventCompletedAt}}),c=new Ke({props:{games:[...e[0].games].sort(e[1])}}),{c(){t=x("div"),r=x("span"),n=A("Ragnarok Event "),l=A(i),s=j(),L(a.$$.fragment),o=j(),L(c.$$.fragment),I(r,"class","whitespace-nowrap text-lg"),I(t,"class","flex flex-row justify-between")},m(e,i){C(e,t,i),T(t,r),T(r,n),T(r,l),T(t,s),S(a,t,null),C(e,o,i),S(c,e,i),m=!0},p(e,[t]){(!m||1&t)&&i!==(i=e[0].eventId+"")&&D(l,i);const r={};1&t&&(r.createdAt=e[0].eventCreatedAt),1&t&&(r.completedAt=e[0].eventCompletedAt),a.$set(r);const n={};1&t&&(n.games=[...e[0].games].sort(e[1])),c.$set(n)},i(e){m||(q(a.$$.fragment,e),q(c.$$.fragment,e),m=!0)},o(e){N(a.$$.fragment,e),N(c.$$.fragment,e),m=!1},d(e){e&&k(t),P(a),e&&k(o),P(c,e)}}}function Je(e,t,r){let{event:n}=t;return e.$$set=e=>{"event"in e&&r(0,n=e.event)},[n,(e,t)=>new Date(t.gameCreatedAt).getTime()-new Date(e.gameCreatedAt).getTime()]}class We extends v{constructor(e){super(),b(this,e,Je,Fe,w,{event:0})}}function Qe(e,t,r){const n=e.slice();return n[1]=t[r],n}function Ve(e){let t,r,n;return r=new We({props:{event:e[1]}}),{c(){t=x("li"),L(r.$$.fragment),I(t,"class","border rounded-md px-8 py-6 my-2")},m(e,l){C(e,t,l),S(r,t,null),n=!0},p(e,t){const n={};1&t&&(n.event=e[1]),r.$set(n)},i(e){n||(q(r.$$.fragment,e),n=!0)},o(e){N(r.$$.fragment,e),n=!1},d(e){e&&k(t),P(r)}}}function Xe(e){let t,r,n,l,s=e[0],a=[];for(let c=0;c<s.length;c+=1)a[c]=Ve(Qe(e,s,c));const o=e=>N(a[e],1,1,(()=>{a[e]=null}));return{c(){t=x("ul");for(let e=0;e<a.length;e+=1)a[e].c();r=j(),n=x("li"),I(t,"class","container mx-auto")},m(e,s){C(e,t,s);for(let r=0;r<a.length;r+=1)a[r].m(t,null);T(t,r),T(t,n),l=!0},p(e,[n]){if(1&n){let l;for(s=e[0],l=0;l<s.length;l+=1){const o=Qe(e,s,l);a[l]?(a[l].p(o,n),q(a[l],1)):(a[l]=Ve(o),a[l].c(),q(a[l],1),a[l].m(t,r))}for(E(),l=s.length;l<a.length;l+=1)o(l);M()}},i(e){if(!l){for(let e=0;e<s.length;e+=1)q(a[e]);l=!0}},o(e){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)N(a[t]);l=!1},d(e){e&&k(t),z(a,e)}}}function Ye(e,t,r){let{events:n}=t;return e.$$set=e=>{"events"in e&&r(0,n=e.events)},[n]}class Ze extends v{constructor(e){super(),b(this,e,Ye,Xe,w,{events:0})}}function et(e){var t;let r,n;return r=new Ze({props:{events:(null==(t=e[0].data)?void 0:t.events)||[]}}),{c(){L(r.$$.fragment)},m(e,t){S(r,e,t),n=!0},p(e,[t]){var n;const l={};1&t&&(l.events=(null==(n=e[0].data)?void 0:n.events)||[]),r.$set(l)},i(e){n||(q(r.$$.fragment,e),n=!0)},o(e){N(r.$$.fragment,e),n=!1},d(e){P(r,e)}}}function tt(e,t,r){let n;F(X);const l=g($`
  query {
    events(orderBy: { eventCreatedAt: desc }) {
      eventId
      eventLabel
      eventCreatedAt
      eventCompletedAt
      
      games {
        eventId
        gameId
        gameMap
        gameWinningTeamId
        gameCreatedAt
        gameCompletedAt
        
        players {
          gameId
          memberId
          playerId
          playerTeamId
          playerCreatedAt

          member {
            memberId
            memberDiscordId
            memberDiscordAvatar
            memberDiscordUsername
          }
        }
      }
    }
  }
`);return _(e,l,(e=>r(0,n=e))),setInterval((()=>l.refetch()),1e3),[n,l]}class rt extends v{constructor(e){super(),b(this,e,tt,et,w,{})}}function nt(e){let t,r,n,l,s,a;return{c(){t=x("nav"),r=x("span"),r.textContent="Ragnarok Analytics",n=j(),l=x("button"),l.textContent="Login",I(r,"class","inline-block align-middle"),I(l,"class","ml-auto border rounded-lg px-4 py-2"),I(t,"class","flex flex-row border-b p-4")},m(o,c){C(o,t,c),T(t,r),T(t,n),T(t,l),s||(a=H(l,"click",e[0]),s=!0)},p:O,i:O,o:O,d(e){e&&k(t),s=!1,a()}}}function lt(e){return[()=>{J("https://discord.com/api/oauth2/authorize",{client_id:"886418657616486450",scope:"identify"}).then(Y.set)}]}class st extends v{constructor(e){super(),b(this,e,lt,nt,w,{})}}function at(e){let t,r;return t=new rt({}),{c(){L(t.$$.fragment)},m(e,n){S(t,e,n),r=!0},i(e){r||(q(t.$$.fragment,e),r=!0)},o(e){N(t.$$.fragment,e),r=!1},d(e){P(t,e)}}}function ot(e){let t,r,n,l;t=new st({});let s=e[0]&&at();return{c(){L(t.$$.fragment),r=j(),s&&s.c(),n=U()},m(e,a){S(t,e,a),C(e,r,a),s&&s.m(e,a),C(e,n,a),l=!0},p(e,[t]){e[0]?s?1&t&&q(s,1):(s=at(),s.c(),q(s,1),s.m(n.parentNode,n)):s&&(E(),N(s,1,1,(()=>{s=null})),M())},i(e){l||(q(t.$$.fragment,e),q(s),l=!0)},o(e){N(t.$$.fragment,e),N(s),l=!1},d(e){P(t,e),e&&k(r),s&&s.d(e),e&&k(n)}}}function ct(e,t,r){let n;return _(e,Y,(e=>r(0,n=e))),[n]}class mt extends v{constructor(e){super(),b(this,e,ct,ot,w,{})}}W(),addEventListener("load",(()=>{new mt({target:document.querySelector("#application")})}));
